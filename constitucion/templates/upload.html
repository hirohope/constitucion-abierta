<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
  <title>Constitución Transparente</title>

  <!-- CSS  -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="/static/html/css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="/static/html/css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>

  <style type="text/css">
    .error {
      color:#e74c3c;
      display: none;
    }
  </style>
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.3/js/materialize.min.js"></script>
  <script type="text/javascript">
    var validateForm = function () {

      var fileInput = document.getElementById("myfileinput");
      var files = fileInput.files;
      var maxSize = 20*1024*1024;

      var isOk = true;
      for (var i = 0; i < files.length; i++) {
        if(files[i].size > maxSize){
          isOk = false;
        }
      }
      var errorspan = document.getElementById("error");
      if (isOk){
        errorspan.style.display = 'none';
      } else {
        errorspan.style.display = 'inline';
      }
      return isOk;
  };
  window.onload = function(e) {
    document.getElementById("myfileinput").onchange = function () {
      validateForm();
    };
  };

  </script>
</head>
<body>
  <nav class="light-green lighten-1" role="navigation">
    <div class="nav-wrapper container"><a id="logo-container" href="#" class="brand-logo"><img src="/static/html/img/logo.png"/></a>
    </div>
  </nav>
  <div class="section no-pad-bot" id="index-banner">
    <div class="container">
      <br><br>
      <h1 class="header center green-text">Constitución Transparente</h1>
      <div class="row center">
        {% if modify %}
          <h5 class="header col s12 light">Está por modificar el archivo asdsadsadadas</h5>
        {% else %}
          <h5 class="header col s12 light">Inserte descripción acá</h5>
        {% endif %}
      </div>

    {% if modify %}
      <form method="POST" action="/constitucion/upload_modify/{{filename}}/{{secret}}/" enctype="multipart/form-data" onsubmit="return validateForm();">
    {% else %}
      <form method="POST" action="/constitucion/upload_file/" enctype="multipart/form-data" onsubmit="return validateForm();">
    {% endif %}
      {% csrf_token %}
      <div class="row">
        <div class="col s6 m6 offset-m3">
        <div class="file-field input-field">
          <div class="btn-large waves-effect waves-light green">
            <span>Archivo</span>
            <input type="file" id="myfileinput" name="file">
          </div>
          <div class="file-path-wrapper">
            <input class="file-path validate" type="text">
          </div>
        </div>
        </div>
      </div>
      <div class="row center">
        <span class="error" id="error">Su archivo es demasiado grande. Debe pesar menos de 20MB.</span>
      </div>

      <div class="row center">
        <input type="submit" value="Submit" class="btn-large waves-effect waves-light green">
      </div>
      <br><br>
    </form>
    </div>
  </div>


  
  <br><br>

  <div class="section">

  </div>
</div>

<footer class="page-footer green">
  <div class="container">
    <div class="row">
      <div class="s12">
        <h5 class="white-text">Disclaimer</h5>
        <p class="grey-text text-lighten-4">

Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce ac congue justo. Proin eget vehicula leo, sed tincidunt erat. Integer placerat nisi dolor, id porttitor arcu ultrices fermentum. Ut tincidunt arcu eget ultrices molestie. Cras lorem tortor, mollis vel ipsum non, lacinia aliquet ex. Donec sit amet mi felis. In eget lacus leo. Integer vitae bibendum quam, vitae consectetur sapien. Etiam quis massa libero. Sed accumsan lacus orci, sed ultricies sem scelerisque vel.</p>
      </div>
    </div>
  </div>
  <div class="footer-copyright">
  </div>
</footer>
</body>
</html>
